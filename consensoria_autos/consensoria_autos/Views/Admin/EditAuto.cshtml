@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
@model consensoria_autos.Models.Car
@{
    ViewData["Title"] = "Edit Car";
}

<div class="container py-5">
    <h2 class="fw-bold mb-4">Editar vehiculo</h2>

    @if (TempData["Success"] != null)
    {
        <div class="alert alert-success d-flex align-items-center">
            <i class="bi bi-check-circle-fill me-2"></i> @TempData["Success"]
        </div>
    }

  

    <form asp-controller="Admin" asp-action="EditAuto" method="post" class="border rounded p-4 bg-white shadow-sm">
        <!-- ID oculto -->
        <input type="hidden" name="id" value="@Model.id" />

        <!-- Modelo y Transmisión -->
        <div class="row mb-3">
            <div class="col-md-6">
                <label class="form-label fw-semibold">Modelo</label>
                <input asp-for="model" class="form-control" />
            </div>

            <div class="col-md-6">
                <label class="form-label fw-semibold">Transmision</label>
                <select asp-for="transmission_id" class="form-select">
                    <option value="">Select...</option>
                    @if (ViewBag.Transmissions != null)
                    {
                        foreach (var t in ViewBag.Transmissions)
                        {
                            if (t.id == Model.transmission_id)
                            {
                                <option value="@t.id" selected>@t.type</option>
                            }
                            else
                            {
                                <option value="@t.id">@t.type</option>
                            }
                        }
                    }
                </select>
            </div>
        </div>

        <!-- Año, Precio, Condición -->
        <div class="row mb-3">
            <div class="col-md-4">
                <label class="form-label fw-semibold">Año</label>
                <input asp-for="year" type="number" class="form-control" />
            </div>

            <div class="col-md-4">
                <label class="form-label fw-semibold">Precio ($)</label>
                <input asp-for="price" type="number" step="0.01" class="form-control" />
            </div>

            <div class="col-md-4">
                <label class="form-label fw-semibold">Condicion</label>
                <select asp-for="condition_id" class="form-select">
                    <option value="">Select...</option>
                    @if (ViewBag.Conditions != null)
                    {
                        foreach (var c in ViewBag.Conditions)
                        {
                            if (c.id == Model.condition_id)
                            {
                                <option value="@c.id" selected>@c.label</option>
                            }
                            else
                            {
                                <option value="@c.id">@c.label</option>
                            }
                        }
                    }
                </select>
            </div>
        </div>

        <!-- Descripción -->
        <div class="mb-3">
            <label class="form-label fw-semibold">Descripcion</label>
            <textarea asp-for="description" class="form-control" rows="3"></textarea>
        </div>

        <!-- Imagen -->
        <div class="mb-3">
            <label class="form-label fw-semibold">Image URL</label>
            <input asp-for="image_url" class="form-control" />
        </div>

        <!-- Publicación -->
        <div class="form-check mb-3">
            <input asp-for="is_published" class="form-check-input" type="checkbox" id="publishCheck" />
            <label class="form-check-label" for="publishCheck">Publicar vehiculo? (Sera visible en la pagina)</label>
        </div>

        <button type="submit" class="btn btn-warning w-100 mt-3">
            <i class="bi bi-pencil-square"></i> Actualizar
        </button>
    </form>

    <a asp-controller="Admin" asp-action="AutoList" class="btn btn-outline-secondary mt-3"> Regresar a la lista</a>
</div>
